(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(5155);a(2115);var l=a(9708),i=a(2085),r=a(9434);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:i,asChild:o=!1,...d}=e,c=o?l.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,r.cn)(n({variant:a,size:i,className:t})),...d})}},1394:(e,t,a)=>{"use strict";a.d(t,{BK:()=>n,eu:()=>r,q5:()=>o});var s=a(5155);a(2115);var l=a(5977),i=a(9434);function r(e){let{className:t,...a}=e;return(0,s.jsx)(l.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)(l._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(l.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}},1654:(e,t,a)=>{"use strict";a.d(t,{BlogProvider:()=>o,U:()=>d});var s=a(5155),l=a(2115),i=a(3464),r=a(9576);let n=(0,l.createContext)(void 0),o=e=>{let{children:t}=e,[a,o]=(0,l.useState)([]),[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)(!1),[p,x]=(0,l.useState)(null),{user:g}=(0,r.A)(),h=async()=>{try{m(!0),x(null);let e=await i.A.get("https://blog-test-7we3.onrender.com/api/blogs");o(e.data)}catch(a){var e,t;x((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to fetch blogs")}finally{m(!1)}},f=async e=>{try{m(!0),x(null);let t=await i.A.get("https://blog-test-7we3.onrender.com/api/blogs/".concat(e));c(t.data)}catch(e){var t,a;x((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch blog")}finally{m(!1)}},v=async(e,t,a)=>{try{m(!0),x(null);let s=new FormData;s.append("title",e),s.append("description",t),a&&s.append("image",a);let l={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null==g?void 0:g.token)}};await i.A.post("https://blog-test-7we3.onrender.com/api/blogs",s,l),await h()}catch(e){var s,l;x((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"Failed to create blog")}finally{m(!1)}},b=async(e,t,a,s)=>{try{m(!0),x(null);let l=new FormData;l.append("title",t),l.append("description",a),s&&l.append("image",s);let r={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null==g?void 0:g.token)}};await i.A.put("https://blog-test-7we3.onrender.com/api/blogs/".concat(e),l,r),await h(),d&&await f(e)}catch(e){var l,r;x((null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message)||"Failed to update blog")}finally{m(!1)}},j=async e=>{try{m(!0),x(null);let t={headers:{Authorization:"Bearer ".concat(null==g?void 0:g.token)}};await i.A.delete("https://blog-test-7we3.onrender.com/api/blogs/".concat(e),t),o(a.filter(t=>t._id!==e)),d&&d._id===e&&c(null)}catch(e){var t,s;x((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to delete blog")}finally{m(!1)}},y=async(e,t)=>{try{m(!0),x(null);let a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==g?void 0:g.token)}},s=await i.A.post("https://blog-test-7we3.onrender.com/api/blogs/".concat(e,"/comments"),{content:t},a);c(s.data)}catch(e){var a,s;x((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to add comment")}finally{m(!1)}},w=async(e,t,a)=>{try{m(!0),x(null);let s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==g?void 0:g.token)}},l=await i.A.post("https://blog-test-7we3.onrender.com/api/blogs/".concat(e,"/comments/").concat(t,"/replies"),{content:a},s);c(l.data)}catch(e){var s,l;x((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"Failed to add reply")}finally{m(!1)}};return(0,s.jsx)(n.Provider,{value:{blogs:a,currentBlog:d,loading:u,error:p,fetchBlogs:h,fetchBlogById:f,createBlog:v,updateBlog:b,deleteBlog:j,addComment:y,addReply:w},children:t})},d=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("useBlog must be used within a BlogProvider");return e}},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(5155);a(2115);var l=a(9434);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,l.cn)("flex h-full w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:ring-offset-1","placeholder:text-muted-foreground file:bg-primary file:text-white file:border-0 file:px-4 file:py-1.5 file:mr-4 file:rounded file:cursor-pointer file:hover:bg-primary/90","file:transition-colors file:font-medium file:text-sm","disabled:cursor-not-allowed disabled:opacity-50","aria-invalid:border-destructive aria-invalid:ring-destructive/30",t),...i})}},6679:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(5155),l=a(2115),i=a(9576),r=a(1654),n=a(5695),o=a(285),d=a(6695),c=a(8543);a(5716);var u=a(518),m=a(4416),p=a(9434);function x(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"dialog",...t})}function g(e){let{...t}=e;return(0,s.jsx)(u.l9,{"data-slot":"dialog-trigger",...t})}function h(e){let{...t}=e;return(0,s.jsx)(u.ZL,{"data-slot":"dialog-portal",...t})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(u.hJ,{"data-slot":"dialog-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function v(e){let{className:t,children:a,...l}=e;return(0,s.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,s.jsx)(f,{}),(0,s.jsxs)(u.UC,{"data-slot":"dialog-content",className:(0,p.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[a,(0,s.jsxs)(u.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(m.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,p.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(u.hE,{"data-slot":"dialog-title",className:(0,p.cn)("text-lg leading-none font-semibold",t),...a})}var y=a(4616),w=a(2657),N=a(3717),k=a(2525),A=a(2177),C=a(2523),B=a(8539);let S=e=>{let{onClose:t,blog:a,isEdit:i=!1}=e,{createBlog:n,updateBlog:d,loading:u}=(0,r.U)(),[m,p]=(0,l.useState)(null),[x,g]=(0,l.useState)((null==a?void 0:a.image)||null),{register:h,handleSubmit:f,formState:{errors:v}}=(0,A.mN)({defaultValues:{title:(null==a?void 0:a.title)||"",description:(null==a?void 0:a.description)||""}}),b=async e=>{try{i?(await d(a._id,e.title,e.description,m),c.oR.success("Blog updated successfully")):(await n(e.title,e.description,m),c.oR.success("Blog created successfully")),t()}catch(e){c.oR.error(e.message||"Failed to ".concat(i?"update":"create"," blog"))}};return(0,s.jsxs)("form",{onSubmit:f(b),className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"title",className:"text-sm font-medium",children:"Blog Title"}),(0,s.jsx)(C.p,{id:"title",placeholder:"Enter blog title",...h("title",{required:"Title is required"}),className:v.title?"border-red-500":""}),v.title&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:v.title.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"description",className:"text-sm font-medium",children:"Blog Description"}),(0,s.jsx)(B.T,{id:"description",placeholder:"Enter blog description",rows:6,...h("description",{required:"Description is required"}),className:v.description?"border-red-500":""}),v.description&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:v.description.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"image",className:"text-sm font-medium",children:"Blog Image"}),(0,s.jsx)(C.p,{id:"image",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];p(t);let a=new FileReader;a.onloadend=()=>{g(a.result)},a.readAsDataURL(t)}},className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary/90"}),x&&(0,s.jsx)("div",{className:"relative mt-2 h-40 w-full overflow-hidden rounded-md",children:(0,s.jsx)("img",{src:x,alt:"Blog Image Preview",className:"h-full w-full object-cover"})}),!m&&i&&!x&&(0,s.jsx)("p",{className:"text-sm text-amber-500",children:"You will need to upload a new image if you want to change it."}),!m&&!i&&(0,s.jsx)("p",{className:"text-sm text-amber-500",children:"Please upload an image for your blog."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(o.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,s.jsx)(o.$,{type:"submit",disabled:u,children:u?"Saving...":i?"Update Blog":"Create Blog"})]})]})},z=e=>{let{onDelete:t,onCancel:a}=e;return(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this blog? This action cannot be undone."}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(o.$,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,s.jsx)(o.$,{type:"button",variant:"destructive",onClick:t,children:"Delete"})]})]})};var _=a(1394);function F(){let{user:e,loading:t,logout:a}=(0,i.A)(),{blogs:u,loading:m,error:p,fetchBlogs:h,deleteBlog:f}=(0,r.U)(),A=(0,n.useRouter)(),[C,B]=(0,l.useState)(!1),[F,D]=(0,l.useState)(!1),[T,E]=(0,l.useState)(!1),[R,$]=(0,l.useState)(null);(0,l.useEffect)(()=>{t||e||A.push("/login"),e&&h()},[e,t,A]);let L=e=>{$(e),D(!0)},P=e=>{$(e),E(!0)},I=e=>{A.push("/blogs/".concat(e))},O=async()=>{try{await f(R._id),c.oR.success("Blog deleted successfully"),E(!1)}catch(e){c.oR.error("Failed to delete blog")}};return t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("p",{children:"Loading..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[e&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(_.eu,{children:[(0,s.jsx)(_.BK,{src:e.profileImage,alt:e.email}),(0,s.jsx)(_.q5,{children:e.email.charAt(0).toUpperCase()})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.email})]}),(0,s.jsx)(o.$,{variant:"outline",onClick:a,children:"Logout"})]})]})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"My Blogs"}),(0,s.jsxs)(x,{open:C,onOpenChange:B,children:[(0,s.jsx)(g,{asChild:!0,children:(0,s.jsxs)(o.$,{className:"flex items-center",children:[(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Add New Blog"]})}),(0,s.jsxs)(v,{className:"sm:max-w-[600px]",children:[(0,s.jsx)(b,{children:(0,s.jsx)(j,{children:"Add New Blog"})}),(0,s.jsx)(S,{onClose:()=>B(!1)})]})]})]}),m?(0,s.jsx)("p",{children:"Loading blogs..."}):p?(0,s.jsx)("p",{className:"text-red-500",children:p}):0===u.length?(0,s.jsx)(d.Zp,{className:"p-6 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"You haven't created any blogs yet."})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse bg-white shadow rounded-lg",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:u.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-16 w-16 relative rounded overflow-hidden",children:(0,s.jsx)("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover"})})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.description}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>I(e._id),children:(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>L(e),children:(0,s.jsx)(N.A,{className:"h-4 w-4"})}),(0,s.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>P(e),children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})]})})]},e._id))})]})})]}),(0,s.jsx)(x,{open:F,onOpenChange:D,children:(0,s.jsxs)(v,{className:"sm:max-w-[600px]",children:[(0,s.jsx)(b,{children:(0,s.jsx)(j,{children:"Edit Blog"})}),R&&(0,s.jsx)(S,{onClose:()=>D(!1),blog:R,isEdit:!0})]})}),(0,s.jsx)(x,{open:T,onOpenChange:E,children:(0,s.jsxs)(v,{className:"sm:max-w-[400px]",children:[(0,s.jsx)(b,{children:(0,s.jsx)(j,{children:"Delete Blog"})}),(0,s.jsx)(z,{onDelete:O,onCancel:()=>E(!1)})]})}),(0,s.jsx)(c.N9,{position:"top-right",autoClose:3e3})]})}},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>n,Zp:()=>i,aR:()=>r,wL:()=>c});var s=a(5155);a(2115);var l=a(9434);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,l.cn)("flex items-center px-6 [.border-t]:pt-6",t),...a})}},7933:(e,t,a)=>{Promise.resolve().then(a.bind(a,6679))},8539:(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var s=a(5155),l=a(2115),i=a(9434);let r=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});r.displayName="Textarea"},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(2596),l=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}},9576:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,AuthProvider:()=>o});var s=a(5155),l=a(2115),i=a(3464),r=a(5695);let n=(0,l.createContext)(void 0),o=e=>{let{children:t}=e,[a,o]=(0,l.useState)(null),[d,c]=(0,l.useState)(!0),[u,m]=(0,l.useState)(null),p=(0,r.useRouter)();(0,l.useEffect)(()=>{(()=>{let e=localStorage.getItem("user");e&&o(JSON.parse(e)),c(!1)})()},[]);let x=async(e,t)=>{try{c(!0),m(null);let a=(await i.A.post("https://blog-test-7we3.onrender.com/api/users/login",{email:e,password:t})).data;o(a),localStorage.setItem("user",JSON.stringify(a)),p.push("/dashboard")}catch(e){var a,s;m((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Login failed")}finally{c(!1)}},g=async(e,t,a)=>{try{c(!0),m(null);let s=new FormData;s.append("email",e),s.append("password",t),a&&s.append("profileImage",a);let l=(await i.A.post("https://blog-test-7we3.onrender.com/api/users/register",s,{headers:{"Content-Type":"multipart/form-data"}})).data;o(l),localStorage.setItem("user",JSON.stringify(l)),p.push("/dashboard")}catch(e){var s,l;m((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"Registration failed")}finally{c(!1)}};return(0,s.jsx)(n.Provider,{value:{user:a,loading:d,error:u,login:x,register:g,logout:()=>{o(null),localStorage.removeItem("user"),p.push("/login")}},children:t})},d=()=>{let e=(0,l.useContext)(n);if(console.log("context",e),void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[797,794,517,558,998,441,684,358],()=>t(7933)),_N_E=e.O()}]);